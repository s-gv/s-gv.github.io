
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Flat HN</title>

        <!-- Bootstrap -->
        <link href="/static/css/bootstrap.min.css" rel="stylesheet">
        <link href="/static/css/lightbox.css" rel="stylesheet">

        <style media="screen">
            body {
              padding-top: 20px;
              padding-bottom: 20px;
            }
            .navbar {
              margin-bottom: 20px;
            }
            #maintitle {
                font-size: 40px;
            }
            .jumbotron {
                padding-left: 10px;
                padding-right: 10px;
            }
            /* Customize container */
            @media (min-width: 768px) {
                .container {
                    max-width: 730px;
                }
            }
            .footer {
                margin-top: 25px;
            }
            .img-full {
                width: 100%;
            }
        </style>

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>
    <body>
        <!-- Static navbar -->
        <div class="container">
            <nav class="navbar navbar-default">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <div id="navbar" class="navbar-collapse collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="/">Home</a></li>
                        <li><a href="http://blog.sagargv.com">Blog</a></li>
                        <li><a href="http://github.com/s-gv">Github</a></li>
                        <li><a href="https://twitter.com/gv_sagar">Twitter</a></li>
                    </ul>
                </div><!--/.nav-collapse -->
            </nav>
        </div>

        <div class="container">
            
<div class="row">
    <div class="col-md-12">
        <div class="jumbotron">
            <h1 id="maintitle">Flat HN</h1>
            <br />
            
<p class="lead">
    Flat HN is a bookmarklet that hides threaded conversations on Hacker News.
</p>


<p>
    <a class="btn btn-lg btn-primary" href="https://github.com/s-gv/flat-hackernews" role="button">View in GitHub</a>
</p>

        </div>
    </div>
</div>


<div class="row">
    <div class="col-md-12">
        <div class="page-header">
            <h2>How to use</h2>
        </div>
        
<p class="lead">
    Drag this link,  
<a href="javascript:%7Bif(%22news.ycombinator.com%22%3D%3Dlocation.hostname)%7Bvar%20spacerImages%3Ddocument.getElementsByTagName(%22img%22)%2Ccomments%3DArray.prototype.slice.call(spacerImages).filter(function(e)%7Breturn%22https%3A%2F%2Fnews.ycombinator.com%2Fs.gif%22%3D%3De.src%26%26e.width%2540%3D%3D0%26%26(1%3D%3De.height%7C%7C2%3D%3De.height)%7D)%2CsearchChildrenByClassName%3Dfunction(e%2Ct)%7Bif(e.className%3D%3Dt)return%20e%3Bfor(var%20n%3D0%3Bn%3Ce.children.length%3Bn%2B%2B)%7Bvar%20m%3DsearchChildrenByClassName(e.children%5Bn%5D%2Ct)%3Bif(null!%3Dm)return%20m%7Dreturn%20null%7D%3Bif(comments%3Dcomments.map(function(e)%7Bvar%20t%3De.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement%2Cn%3DsearchChildrenByClassName(t%2C%22reply%22)%2Cm%3Dnull%3Breturn%20null!%3Dn%26%26null!%3Dn.lastChild%26%26(m%3Dn.lastChild.children%5B0%5D)%2C%7Bdepth%3Ae.width%2F40%2Crowele%3At%2Creplyparent%3Am%2Cmorelessele%3Anull%7D%7D)%2C%22undefined%22%3D%3Dtypeof%20__flathn__)%7B__flathn__%3D!0%3Bfor(var%20i%3D0%3Bi%3Ccomments.length%3Bi%2B%2B)if(comments%5Bi%5D.depth%3E1%26%26(comments%5Bi%5D.rowele.style.display%3D%22none%22)%2Ccomments%5Bi%5D.depth%3E%3D1)%7Bvar%20uTag%3Ddocument.createElement(%22u%22)%3BuTag.setAttribute(%22class%22%2C%22showmore%22)%3Bvar%20aTag%3Ddocument.createElement(%22a%22)%3BaTag.setAttribute(%22href%22%2C%22%23%22%2BMath.round(1e9*Math.random()))%2CaTag.innerHTML%3D%22more%22%2CaTag.addEventListener(%22click%22%2Cfunction(e%2Ct)%7Breturn%20function(n)%7Bif(%22more%22%3D%3Dt.firstChild.innerHTML)%7Bfor(var%20m%3De%2B1%3Bm%3Ccomments.length%26%26!(comments%5Bm%5D.depth%3Ccomments%5Be%5D.depth%2B1)%3Bm%2B%2B)comments%5Bm%5D.depth%3D%3Dcomments%5Be%5D.depth%2B1%26%26(comments%5Bm%5D.rowele.style.display%3D%22%22)%3Bt.firstChild.innerHTML%3D%22less%22%7Delse%7Bfor(var%20m%3De%2B1%3Bm%3Ccomments.length%26%26!(comments%5Bm%5D.depth%3Ccomments%5Be%5D.depth%2B1)%3Bm%2B%2B)comments%5Bm%5D.depth%3E%3Dcomments%5Be%5D.depth%2B1%26%26(comments%5Bm%5D.rowele.style.display%3D%22none%22%2Cnull!%3Dcomments%5Bm%5D.morelessele%26%26(comments%5Bm%5D.morelessele.innerHTML%3D%22more%22))%3Bt.firstChild.innerHTML%3D%22more%22%7Dn.preventDefault()%7D%7D(i%2CuTag)%2C!0)%2CuTag.appendChild(aTag)%2Ci%3Ccomments.length-1%26%26comments%5Bi%2B1%5D.depth%3Ecomments%5Bi%5D.depth%26%26null!%3Dcomments%5Bi%5D.replyparent%26%26(comments%5Bi%5D.replyparent.appendChild(uTag)%2Ccomments%5Bi%5D.morelessele%3Dcomments%5Bi%5D.replyparent.lastChild.lastChild)%7D%7Delse%7Bdelete%20__flathn__%3Bfor(var%20showmores%3Ddocument.getElementsByClassName(%22showmore%22)%3Bshowmores.length%3E0%3B)showmores%5B0%5D.parentElement.removeChild(showmores%5B0%5D)%3Bfor(var%20i%3D0%3Bi%3Ccomments.length%3Bi%2B%2B)comments%5Bi%5D.rowele.style.display%3D%22%22%7D%7Delse%20alert(%22This%20works%20with%20only%20Hacker%20News.%20Open%20a%20discussion%20at%20news.ycombinator.com%20and%20try%20again.%22)%3B%7Dvoid(0)%3B">Flat/Threaded HN</a>
 , to your bookmarks. Open a discussion on  
<a href="https://news.ycombinator.com/">HN</a>
  and click on the newly created "Flat/Threaded HN" bookmark to hide nested comments. Clicking on the bookmarklet again will revert the page back to the threaded view.
</p>


<p>
    <a href="/proj/flathn/3.jpg" data-lightbox="proj-img"><img class="img-full img-responsive" src="/proj/flathn/3_crushed.jpg" alt="Demonstrating Flat HN"></a>
</p>

    </div>
</div>


<div class="row">
    <div class="col-md-12">
        <div class="page-header">
            <h2>Why Flat HN?</h2>
        </div>
        
<p class="lead">
    Threaded conversations in  
<a href="https://news.ycombinator.com/">Hacker News</a>
  (HN) can be a pain at times. It's easy to lose context as you scroll down a long discussion; see the screenshot below. Jeff Atwood has  
<a href="http://blog.codinghorror.com/web-discussions-flat-by-design/">written</a>
  at length about the issues with threaded discussions and suggests limiting the level of replies allowed.
</p>


<p>
    <a href="/proj/flathn/1.jpg" data-lightbox="proj-img"><img class="img-full img-responsive" src="/proj/flathn/1_crushed.jpg" alt="Threaded Conversations in HN"></a>
</p>

    </div>
</div>


<div class="row">
    <div class="col-md-12">
        <div class="page-header">
            <h2>How does it work?</h2>
        </div>
        
<p class="lead">
    HN's html suggests hiding deeply threaded comments should be simple. A spacer GIF appears to be used to indent comments, and those spacers used for indentation seem to have width in multiples of 40 in proportion to the depth of the comment.
</p>


<p class="lead">
    The idea is to have some javascript as a bookmark, and this script gets executed in the context of the page that is open when you click on the bookmarklet.
</p>


<p>
    <a href="/proj/flathn/2.jpg" data-lightbox="proj-img"><img class="img-full img-responsive" src="/proj/flathn/2_crushed.jpg" alt="How Flat HN works"></a>
</p>

    </div>
</div>

        </div> <!-- /container -->

        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <footer class="footer">
                        <p class="text-muted">Last updated on November 11, 2015.</p>
                    </footer>
                </div>
            </div>
        </div>

        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="/static/js/jquery.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="/static/js/bootstrap.min.js"></script>
        <script src="/static/js/lightbox.min.js"></script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-69020583-1', 'auto');
            ga('send', 'pageview');
        </script>
    </body>
</html>


